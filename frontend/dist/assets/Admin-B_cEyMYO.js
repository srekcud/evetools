import{d as $e,o as Pe,i as k,w as ze,g as Te,r as y,h as s,k as a,c as n,b as e,t as o,l as p,q as Fe,n as Re,e as f,v as We,F as qe,m as Ne,p as b}from"./index-BrHa6dug.js";import{u as Je,_ as Oe}from"./MainLayout.vue_vue_type_style_index_0_lang-DJ721N8Q.js";import{u as Ke}from"./useFormatters-CV5q413z.js";import{C as Qe,a as Ue,L as Ge,B as Xe,P as Ye,b as Ze,A as et,p as tt,c as st,d as ot,i as lt,f as nt,e as rt,D as at}from"./index-BGj_mOAn.js";import{_ as it}from"./_plugin-vue_export-helper-DlAUqK2U.js";const dt={key:0,class:"flex justify-center items-center py-20"},ut={key:1,class:"bg-red-500/20 border border-red-500 p-4 rounded-lg"},ct={class:"text-red-400"},pt={key:2,class:"space-y-6"},xt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},vt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},mt={class:"text-2xl font-bold text-slate-100"},gt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},bt={class:"text-2xl font-bold text-emerald-400"},ft={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},ht={class:"text-2xl font-bold text-red-400"},kt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},yt={class:"text-2xl font-bold text-blue-400"},wt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},_t={class:"text-2xl font-bold text-purple-400"},jt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},Ct={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Mt={class:"text-2xl font-bold text-slate-100"},At={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Bt={class:"text-2xl font-bold text-amber-400"},Ht={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},St={class:"text-2xl font-bold text-emerald-400"},Lt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Vt={class:"text-2xl font-bold text-orange-400"},zt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},It={class:"text-2xl font-bold text-red-400"},Et={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Dt={class:"text-2xl font-bold text-yellow-400"},$t={class:"text-xs text-slate-500 mt-1"},Pt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},Tt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Ft={class:"text-2xl font-bold text-amber-400"},Rt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Wt={class:"text-2xl font-bold text-indigo-400"},qt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Nt={class:"text-2xl font-bold text-violet-400"},Jt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Ot={class:"text-2xl font-bold text-teal-400"},Kt={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Qt={class:"text-2xl font-bold text-cyan-400"},Ut={class:"bg-slate-900 rounded-xl p-4 border border-slate-800"},Gt={class:"text-2xl font-bold text-red-400"},Xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Yt={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},Zt={class:"space-y-2"},es={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},ts={class:"text-slate-200 font-mono text-sm"},ss={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},os={class:"text-slate-200 font-mono text-sm"},ls={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},ns={class:"text-right"},rs={class:"text-slate-200 font-mono text-sm"},as={class:"text-slate-500 text-xs ml-2"},is={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},ds={class:"text-slate-200 font-mono text-sm"},us={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},cs={class:"text-slate-200 font-mono text-sm"},ps={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},xs={class:"grid grid-cols-3 gap-3"},vs=["disabled"],ms={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},gs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},bs=["disabled"],fs={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},hs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ks=["disabled"],ys={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ws={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_s=["disabled"],js={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Cs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ms=["disabled"],As={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Hs=["disabled"],Ss={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ls={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vs=["disabled"],zs={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Is={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Es=["disabled"],Ds={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$s={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ps=["disabled"],Ts={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Rs=["disabled"],Ws={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ns={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},Js={class:"flex items-center gap-4 text-sm text-slate-400"},Os={class:"flex items-center gap-2"},Ks={class:"text-yellow-300"},Qs={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Us={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},Gs={class:"h-48"},Xs={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},Ys={class:"h-48"},Zs={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},eo={class:"h-48"},to={class:"bg-slate-900 rounded-xl p-6 border border-slate-800"},so={class:"flex items-center justify-between mb-4"},oo={class:"flex items-center gap-2"},lo={class:"text-right"},no={class:"text-xl font-bold text-green-400"},ro={key:0,class:"space-y-2"},ao={class:"text-slate-500 text-sm w-6"},io=["src","alt"],uo={class:"flex-1 text-slate-200 truncate"},co={class:"text-green-400 font-mono"},po={key:1,class:"text-slate-500 text-sm"},xo=$e({__name:"Admin",setup(vo){Qe.register(Ue,Ge,Xe,Ye,Ze,et,tt,st,ot,lt);const Ie=Te(),i=Je(),{formatIsk:j,formatTimeSince:h}=Ke(),w=y(!1),_=y(!0),r=y(null),g=y(null);Pe(async()=>{if(_.value=!0,w.value=await i.checkAccess(),_.value=!1,!w.value){Ie.push("/dashboard");return}await i.fetchAll()});const l=b(()=>i.stats),C=b(()=>i.queues),v=b(()=>i.charts),M=b(()=>{var u;return(u=v.value)!=null&&u.registrations?{labels:v.value.registrations.labels,datasets:[{label:"Inscriptions",data:v.value.registrations.data,backgroundColor:"rgba(6, 182, 212, 0.5)",borderColor:"rgb(6, 182, 212)",borderWidth:1}]}:null}),A=b(()=>{var u;return(u=v.value)!=null&&u.activity?{labels:v.value.activity.labels,datasets:[{label:"Connexions",data:v.value.activity.logins,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.3,fill:!0}]}:null}),B=b(()=>{var u;return(u=v.value)!=null&&u.assetDistribution?{labels:v.value.assetDistribution.labels,datasets:[{data:v.value.assetDistribution.data,backgroundColor:["rgba(6, 182, 212, 0.7)","rgba(245, 158, 11, 0.7)"],borderColor:["rgb(6, 182, 212)","rgb(245, 158, 11)"],borderWidth:1}]}:null}),H={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgb(148, 163, 184)"}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgb(148, 163, 184)"}}}},Ee={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(148, 163, 184)"}}}};function d(u){return u==null?"—":u.toLocaleString("fr-FR")}async function S(){await i.fetchAll()}async function x(u,t){r.value=u,g.value=null;try{const m=await t();g.value={type:m.success?"success":"error",text:m.message},m.success&&setTimeout(()=>i.fetchAll(),1e3)}catch(m){g.value={type:"error",text:m instanceof Error?m.message:"Action failed"}}finally{r.value=null,setTimeout(()=>{g.value=null},5e3)}}return(u,t)=>(s(),k(Oe,null,{default:ze(()=>{var m,L,V,z,I,E,D,$,P,T,F,R,W,q,N,J,O,K,Q,U,G,X,Y,Z,ee,te,se,oe,le,ne,re,ae,ie,de,ue,ce,pe,xe,ve,me,ge,be,fe,he,ke,ye,we,_e,je,Ce,Me,Ae,Be,He,Se,Le,Ve;return[_.value||a(i).isLoading?(s(),n("div",dt,[...t[10]||(t[10]=[e("svg",{class:"animate-spin h-8 w-8 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):a(i).error?(s(),n("div",ut,[e("p",ct,o(a(i).error),1),e("button",{onClick:S,class:"mt-2 px-4 py-2 bg-red-500/30 hover:bg-red-500/50 rounded text-sm"}," Reessayer ")])):w.value?(s(),n("div",pt,[e("div",{class:"flex items-center justify-between"},[t[12]||(t[12]=e("div",null,[e("h2",{class:"text-xl font-semibold text-slate-100"},"Administration"),e("p",{class:"text-sm text-slate-500"},"Statistiques et metriques de la plateforme")],-1)),e("button",{onClick:S,class:"px-4 py-2 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 rounded-lg text-sm font-medium transition-colors flex items-center gap-2"},[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),p(" Actualiser ",-1)])])]),Fe(We,{name:"fade"},{default:ze(()=>[g.value?(s(),n("div",{key:0,class:Re(["p-4 rounded-lg border",g.value.type==="success"?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-red-500/20 border-red-500/50 text-red-400"])},o(g.value.text),3)):f("",!0)]),_:1}),e("div",xt,[e("div",vt,[t[13]||(t[13]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Utilisateurs")],-1)),e("p",mt,o(d((L=(m=l.value)==null?void 0:m.users)==null?void 0:L.total)),1)]),e("div",gt,[t[14]||(t[14]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Auth valide")],-1)),e("p",bt,o(d((z=(V=l.value)==null?void 0:V.users)==null?void 0:z.valid)),1)]),e("div",ft,[t[15]||(t[15]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Auth invalide")],-1)),e("p",ht,o(d((E=(I=l.value)==null?void 0:I.users)==null?void 0:E.invalid)),1)]),e("div",kt,[t[16]||(t[16]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Actifs 7j")],-1)),e("p",yt,o(d(($=(D=l.value)==null?void 0:D.users)==null?void 0:$.activeLastWeek)),1)]),e("div",wt,[t[17]||(t[17]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Actifs 30j")],-1)),e("p",_t,o(d((T=(P=l.value)==null?void 0:P.users)==null?void 0:T.activeLastMonth)),1)])]),e("div",jt,[e("div",Ct,[t[18]||(t[18]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Personnages")],-1)),e("p",Mt,o(d((R=(F=l.value)==null?void 0:F.characters)==null?void 0:R.total)),1)]),e("div",At,[t[19]||(t[19]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Tokens")],-1)),e("p",Bt,o(d((q=(W=l.value)==null?void 0:W.tokens)==null?void 0:q.total)),1)]),e("div",Ht,[t[20]||(t[20]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Tokens OK")],-1)),e("p",St,o(d((J=(N=l.value)==null?void 0:N.tokens)==null?void 0:J.healthy)),1)]),e("div",Lt,[t[21]||(t[21]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Expire 24h")],-1)),e("p",Vt,o(d((K=(O=l.value)==null?void 0:O.tokens)==null?void 0:K.expiring24h)),1)]),e("div",zt,[t[22]||(t[22]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Expires")],-1)),e("p",It,o(d((U=(Q=l.value)==null?void 0:Q.tokens)==null?void 0:U.expired)),1)]),e("div",Et,[t[23]||(t[23]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Scope sync")],-1)),e("p",Dt,o(d((X=(G=l.value)==null?void 0:G.characters)==null?void 0:X.activeSyncScope)),1),e("p",$t,"/ "+o(d((Z=(Y=l.value)==null?void 0:Y.characters)==null?void 0:Z.total))+" chars",1)])]),e("div",Pt,[e("div",Tt,[t[24]||(t[24]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Assets")],-1)),e("p",Ft,o(d((te=(ee=l.value)==null?void 0:ee.assets)==null?void 0:te.totalItems)),1)]),e("div",Rt,[t[25]||(t[25]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Projets actifs")],-1)),e("p",Wt,o(d((oe=(se=l.value)==null?void 0:se.industry)==null?void 0:oe.activeProjects)),1)]),e("div",qt,[t[26]||(t[26]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Jobs ESI")],-1)),e("p",Nt,o(d((ne=(le=l.value)==null?void 0:le.industryJobs)==null?void 0:ne.activeJobs)),1)]),e("div",Jt,[t[27]||(t[27]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-teal-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-teal-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Structures")],-1)),e("p",Ot,o(d((ae=(re=l.value)==null?void 0:re.syncs)==null?void 0:ae.structuresCached)),1)]),e("div",Kt,[t[28]||(t[28]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Queue")],-1)),e("p",Qt,o(((de=(ie=C.value)==null?void 0:ie.queues)==null?void 0:de.async)??"—"),1)]),e("div",Ut,[t[29]||(t[29]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Failed")],-1)),e("p",Gt,o(((ce=(ue=C.value)==null?void 0:ue.queues)==null?void 0:ce.failed)??"—"),1)])]),e("div",Xt,[e("div",Yt,[t[35]||(t[35]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Dernieres synchronisations",-1)),e("div",Zt,[e("div",es,[t[30]||(t[30]=e("span",{class:"text-slate-400"},"Assets",-1)),e("span",ts,o((xe=(pe=l.value)==null?void 0:pe.syncs)!=null&&xe.lastAssetSync?a(h)(l.value.syncs.lastAssetSync):"—"),1)]),e("div",ss,[t[31]||(t[31]=e("span",{class:"text-slate-400"},"Jobs industrie",-1)),e("span",os,o((me=(ve=l.value)==null?void 0:ve.syncs)!=null&&me.lastIndustrySync?a(h)(l.value.syncs.lastIndustrySync):"—"),1)]),e("div",ls,[t[32]||(t[32]=e("span",{class:"text-slate-400"},"Wallet",-1)),e("div",ns,[e("span",rs,o((be=(ge=l.value)==null?void 0:ge.syncs)!=null&&be.lastWalletSync?a(h)(l.value.syncs.lastWalletSync):"—"),1),e("span",as,"("+o(d((he=(fe=l.value)==null?void 0:fe.syncs)==null?void 0:he.walletTransactionCount))+" tx)",1)])]),e("div",is,[t[33]||(t[33]=e("span",{class:"text-slate-400"},"Mining",-1)),e("span",ds,o((ye=(ke=l.value)==null?void 0:ke.syncs)!=null&&ye.lastMiningSync?a(h)(l.value.syncs.lastMiningSync):"—"),1)]),e("div",us,[t[34]||(t[34]=e("span",{class:"text-slate-400"},"Ansiblex",-1)),e("span",cs,o(d((_e=(we=l.value)==null?void 0:we.syncs)==null?void 0:_e.ansiblexCount))+" gates",1)])])]),e("div",ps,[t[66]||(t[66]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Actions",-1)),e("div",xs,[e("button",{onClick:t[0]||(t[0]=c=>x("sync-assets",a(i).syncAssets)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-assets"?(s(),n("svg",ms,[...t[36]||(t[36]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",gs,[...t[37]||(t[37]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),t[38]||(t[38]=p(" Sync Assets ",-1))],8,vs),e("button",{onClick:t[1]||(t[1]=c=>x("sync-market",a(i).syncMarket)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-market"?(s(),n("svg",fs,[...t[39]||(t[39]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",hs,[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[41]||(t[41]=p(" Sync Market ",-1))],8,bs),e("button",{onClick:t[2]||(t[2]=c=>x("sync-industry",a(i).syncIndustry)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-industry"?(s(),n("svg",ys,[...t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",ws,[...t[43]||(t[43]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"},null,-1)])])),t[44]||(t[44]=p(" Sync Industry ",-1))],8,ks),e("button",{onClick:t[3]||(t[3]=c=>x("sync-pve",a(i).syncPve)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-pve"?(s(),n("svg",js,[...t[45]||(t[45]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",Cs,[...t[46]||(t[46]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])])),t[47]||(t[47]=p(" Sync PVE ",-1))],8,_s),e("button",{onClick:t[4]||(t[4]=c=>x("sync-wallet",a(i).syncWallet)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-teal-500/20 hover:bg-teal-500/30 text-teal-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-wallet"?(s(),n("svg",As,[...t[48]||(t[48]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",Bs,[...t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"},null,-1)])])),t[50]||(t[50]=p(" Sync Wallet ",-1))],8,Ms),e("button",{onClick:t[5]||(t[5]=c=>x("sync-mining",a(i).syncMining)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-mining"?(s(),n("svg",Ss,[...t[51]||(t[51]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",Ls,[...t[52]||(t[52]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},null,-1)])])),t[53]||(t[53]=p(" Sync Mining ",-1))],8,Hs),e("button",{onClick:t[6]||(t[6]=c=>x("sync-ansiblex",a(i).syncAnsiblex)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="sync-ansiblex"?(s(),n("svg",zs,[...t[54]||(t[54]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",Is,[...t[55]||(t[55]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"},null,-1)])])),t[56]||(t[56]=p(" Sync Ansiblex ",-1))],8,Vs),e("button",{onClick:t[7]||(t[7]=c=>x("retry-failed",a(i).retryFailed)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-orange-500/20 hover:bg-orange-500/30 text-orange-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="retry-failed"?(s(),n("svg",Ds,[...t[57]||(t[57]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",$s,[...t[58]||(t[58]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),t[59]||(t[59]=p(" Retry Failed ",-1))],8,Es),e("button",{onClick:t[8]||(t[8]=c=>x("purge-failed",a(i).purgeFailed)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="purge-failed"?(s(),n("svg",Ts,[...t[60]||(t[60]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",Fs,[...t[61]||(t[61]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),t[62]||(t[62]=p(" Purge Failed ",-1))],8,Ps),e("button",{onClick:t[9]||(t[9]=c=>x("clear-cache",a(i).clearCache)),disabled:r.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-500/20 hover:bg-slate-500/30 text-slate-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[r.value==="clear-cache"?(s(),n("svg",Ws,[...t[63]||(t[63]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),n("svg",qs,[...t[64]||(t[64]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),t[65]||(t[65]=p(" Clear Cache ",-1))],8,Rs)])])]),e("div",Ns,[t[70]||(t[70]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Scheduler & Rate Limiting",-1)),t[71]||(t[71]=e("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"},[e("div",{class:"p-3 bg-slate-900/50 rounded-lg text-center"},[e("p",{class:"text-xs text-slate-500 uppercase mb-1"},"Industry"),e("p",{class:"text-lg font-bold text-violet-400"},"30 min")]),e("div",{class:"p-3 bg-slate-900/50 rounded-lg text-center"},[e("p",{class:"text-xs text-slate-500 uppercase mb-1"},"PVE"),e("p",{class:"text-lg font-bold text-green-400"},"1h")]),e("div",{class:"p-3 bg-slate-900/50 rounded-lg text-center"},[e("p",{class:"text-xs text-slate-500 uppercase mb-1"},"Mining"),e("p",{class:"text-lg font-bold text-amber-400"},"1h")]),e("div",{class:"p-3 bg-slate-900/50 rounded-lg text-center"},[e("p",{class:"text-xs text-slate-500 uppercase mb-1"},"Wallet"),e("p",{class:"text-lg font-bold text-cyan-400"},"1h")])],-1)),e("div",Js,[e("div",Os,[t[68]||(t[68]=e("div",{class:"w-2 h-2 rounded-full bg-yellow-400"},null,-1)),e("span",null,[t[67]||(t[67]=p("Sync scope : ",-1)),e("strong",Ks,o(d((Ce=(je=l.value)==null?void 0:je.characters)==null?void 0:Ce.activeSyncScope)),1),p(" chars actifs (login < 7j) / "+o(d((Ae=(Me=l.value)==null?void 0:Me.characters)==null?void 0:Ae.total))+" total",1)])]),t[69]||(t[69]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 rounded-full bg-cyan-400"}),e("span",null,"Throttle ESI : progressif sous 20 errors remain, pause sous 5")],-1))])]),e("div",Qs,[e("div",Us,[t[72]||(t[72]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Inscriptions par semaine",-1)),e("div",Gs,[M.value?(s(),k(a(nt),{key:0,data:M.value,options:H},null,8,["data"])):f("",!0)])]),e("div",Xs,[t[73]||(t[73]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Connexions (7 derniers jours)",-1)),e("div",Ys,[A.value?(s(),k(a(rt),{key:0,data:A.value,options:H},null,8,["data"])):f("",!0)])]),e("div",Zs,[t[74]||(t[74]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Repartition des assets",-1)),e("div",eo,[B.value?(s(),k(a(at),{key:0,data:B.value,options:Ee},null,8,["data"])):f("",!0)])])]),e("div",to,[e("div",so,[t[77]||(t[77]=e("h3",{class:"text-lg font-semibold text-slate-200"},"Revenus PVE par Corporation (30j)",-1)),e("div",oo,[t[76]||(t[76]=e("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),e("div",lo,[e("p",no,o(a(j)(((He=(Be=l.value)==null?void 0:Be.pve)==null?void 0:He.totalIncome30d)||0)),1),t[75]||(t[75]=e("p",{class:"text-xs text-slate-500"},"Total 30 jours",-1))])])]),(Ve=(Le=(Se=l.value)==null?void 0:Se.pve)==null?void 0:Le.byCorporation)!=null&&Ve.length?(s(),n("div",ro,[(s(!0),n(qe,null,Ne(l.value.pve.byCorporation,(c,De)=>(s(),n("div",{key:c.corporationId,class:"flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg"},[e("span",ao,o(De+1)+".",1),e("img",{src:`https://images.evetech.net/corporations/${c.corporationId}/logo?size=32`,class:"w-8 h-8 rounded",alt:c.corporationName},null,8,io),e("span",uo,o(c.corporationName),1),e("span",co,o(a(j)(c.total)),1)]))),128))])):(s(),n("p",po,"Aucune donnee PVE"))])])):f("",!0)]}),_:1}))}}),ko=it(xo,[["__scopeId","data-v-154fdd34"]]);export{ko as default};
