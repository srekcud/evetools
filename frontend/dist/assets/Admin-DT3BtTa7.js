import{d as Me,o as Ae,i as y,w as _e,g as Be,r as w,h as s,k as a,c as r,b as e,t as o,l as x,q as He,n as Le,e as f,v as Ve,F as ze,m as Se,p as b}from"./index-DyXu58aN.js";import{u as Ie,_ as De}from"./MainLayout.vue_vue_type_style_index_0_lang-KV4uLK8U.js";import{u as Ee}from"./useFormatters-SlNtu6dn.js";import{C as Pe,a as Fe,L as $e,B as Re,P as Te,b as qe,A as Ne,p as Je,c as Oe,d as We,f as Ke,e as Qe,D as Ue}from"./index-B5vvhQoz.js";const Ge={key:0,class:"flex justify-center items-center py-20"},Xe={key:1,class:"bg-red-500/20 border border-red-500 p-4 rounded-lg"},Ye={class:"text-red-400"},Ze={key:2,class:"space-y-6"},et={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},tt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},st={class:"text-2xl font-bold text-slate-100"},ot={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},lt={class:"text-2xl font-bold text-emerald-400"},rt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},nt={class:"text-2xl font-bold text-red-400"},at={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},it={class:"text-2xl font-bold text-blue-400"},dt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},ct={class:"text-2xl font-bold text-purple-400"},ut={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},mt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},pt={class:"text-2xl font-bold text-slate-100"},xt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},vt={class:"text-2xl font-bold text-amber-400"},gt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},bt={class:"text-2xl font-bold text-emerald-400"},ft={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},ht={class:"text-2xl font-bold text-orange-400"},kt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},yt={class:"text-2xl font-bold text-red-400"},wt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},_t={class:"text-2xl font-bold text-yellow-400"},jt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4"},Ct={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},Mt={class:"text-2xl font-bold text-amber-400"},At={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},Bt={class:"text-2xl font-bold text-indigo-400"},Ht={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},Lt={class:"text-2xl font-bold text-violet-400"},Vt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},zt={class:"text-2xl font-bold text-teal-400"},St={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},It={class:"text-2xl font-bold text-cyan-400"},Dt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-4 border border-slate-700/50"},Et={class:"text-2xl font-bold text-red-400"},Pt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ft={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},$t={class:"space-y-3"},Rt={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},Tt={class:"text-slate-200 font-mono text-sm"},qt={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},Nt={class:"text-slate-200 font-mono text-sm"},Jt={class:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg"},Ot={class:"text-slate-200 font-mono text-sm"},Wt={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},Kt={class:"grid grid-cols-2 gap-3"},Qt=["disabled"],Ut={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Gt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xt=["disabled"],Yt={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Zt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},es=["disabled"],ts={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ss={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},os=["disabled"],ls={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},rs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ns=["disabled"],as={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},is={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ds=["disabled"],cs={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},us={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ms=["disabled"],ps={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vs={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},gs={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},bs={class:"h-48"},fs={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},hs={class:"h-48"},ks={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},ys={class:"h-48"},ws={class:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-6 border border-slate-700/50"},_s={class:"flex items-center justify-between mb-4"},js={class:"flex items-center gap-2"},Cs={class:"text-right"},Ms={class:"text-xl font-bold text-green-400"},As={key:0,class:"space-y-2"},Bs={class:"text-slate-500 text-sm w-6"},Hs=["src","alt"],Ls={class:"flex-1 text-slate-200 truncate"},Vs={class:"text-green-400 font-mono"},zs={key:1,class:"text-slate-500 text-sm"},Ss=Me({__name:"Admin",setup(_){Pe.register(Fe,$e,Re,Te,qe,Ne,Je,Oe,We);const j=Be(),n=Ie(),{formatIsk:h,formatTimeSince:k}=Ee(),C=w(!1),M=w(!0),i=w(null),v=w(null);Ae(async()=>{if(M.value=!0,C.value=await n.checkAccess(),M.value=!1,!C.value){j.push("/dashboard");return}await n.fetchAll()});const l=b(()=>n.stats),A=b(()=>n.queues),m=b(()=>n.charts),B=b(()=>{var c;return(c=m.value)!=null&&c.registrations?{labels:m.value.registrations.labels,datasets:[{label:"Inscriptions",data:m.value.registrations.data,backgroundColor:"rgba(6, 182, 212, 0.5)",borderColor:"rgb(6, 182, 212)",borderWidth:1}]}:null}),H=b(()=>{var c;return(c=m.value)!=null&&c.activity?{labels:m.value.activity.labels,datasets:[{label:"Connexions",data:m.value.activity.logins,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.3,fill:!0}]}:null}),L=b(()=>{var c;return(c=m.value)!=null&&c.assetDistribution?{labels:m.value.assetDistribution.labels,datasets:[{data:m.value.assetDistribution.data,backgroundColor:["rgba(6, 182, 212, 0.7)","rgba(245, 158, 11, 0.7)"],borderColor:["rgb(6, 182, 212)","rgb(245, 158, 11)"],borderWidth:1}]}:null}),V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgb(148, 163, 184)"}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{color:"rgb(148, 163, 184)"}}}},je={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"rgb(148, 163, 184)"}}}};function d(c){return c==null?"—":c.toLocaleString("fr-FR")}async function z(){await n.fetchAll()}async function g(c,t){i.value=c,v.value=null;try{const p=await t();v.value={type:p.success?"success":"error",text:p.message},p.success&&setTimeout(()=>n.fetchAll(),1e3)}catch(p){v.value={type:"error",text:p instanceof Error?p.message:"Action failed"}}finally{i.value=null,setTimeout(()=>{v.value=null},5e3)}}return(c,t)=>(s(),y(De,null,{default:_e(()=>{var p,S,I,D,E,P,F,$,R,T,q,N,J,O,W,K,Q,U,G,X,Y,Z,ee,te,se,oe,le,re,ne,ae,ie,de,ce,ue,me,pe,xe,ve,ge,be,fe,he,ke,ye,we;return[M.value||a(n).isLoading?(s(),r("div",Ge,[...t[7]||(t[7]=[e("svg",{class:"animate-spin h-8 w-8 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)])])):a(n).error?(s(),r("div",Xe,[e("p",Ye,o(a(n).error),1),e("button",{onClick:z,class:"mt-2 px-4 py-2 bg-red-500/30 hover:bg-red-500/50 rounded text-sm"}," Reessayer ")])):C.value?(s(),r("div",Ze,[e("div",{class:"flex items-center justify-between"},[t[9]||(t[9]=e("div",null,[e("h2",{class:"text-xl font-semibold text-slate-100"},"Administration"),e("p",{class:"text-sm text-slate-500"},"Statistiques et metriques de la plateforme")],-1)),e("button",{onClick:z,class:"px-4 py-2 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 rounded-lg text-sm font-medium transition-colors flex items-center gap-2"},[...t[8]||(t[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),x(" Actualiser ",-1)])])]),He(Ve,{name:"fade"},{default:_e(()=>[v.value?(s(),r("div",{key:0,class:Le(["p-4 rounded-lg border",v.value.type==="success"?"bg-emerald-500/20 border-emerald-500/50 text-emerald-400":"bg-red-500/20 border-red-500/50 text-red-400"])},o(v.value.text),3)):f("",!0)]),_:1}),e("div",et,[e("div",tt,[t[10]||(t[10]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Utilisateurs")],-1)),e("p",st,o(d((S=(p=l.value)==null?void 0:p.users)==null?void 0:S.total)),1)]),e("div",ot,[t[11]||(t[11]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Auth valide")],-1)),e("p",lt,o(d((D=(I=l.value)==null?void 0:I.users)==null?void 0:D.valid)),1)]),e("div",rt,[t[12]||(t[12]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Auth invalide")],-1)),e("p",nt,o(d((P=(E=l.value)==null?void 0:E.users)==null?void 0:P.invalid)),1)]),e("div",at,[t[13]||(t[13]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Actifs 7j")],-1)),e("p",it,o(d(($=(F=l.value)==null?void 0:F.users)==null?void 0:$.activeLastWeek)),1)]),e("div",dt,[t[14]||(t[14]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Actifs 30j")],-1)),e("p",ct,o(d((T=(R=l.value)==null?void 0:R.users)==null?void 0:T.activeLastMonth)),1)])]),e("div",ut,[e("div",mt,[t[15]||(t[15]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Personnages")],-1)),e("p",pt,o(d((N=(q=l.value)==null?void 0:q.characters)==null?void 0:N.total)),1)]),e("div",xt,[t[16]||(t[16]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Tokens")],-1)),e("p",vt,o(d((O=(J=l.value)==null?void 0:J.tokens)==null?void 0:O.total)),1)]),e("div",gt,[t[17]||(t[17]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Tokens OK")],-1)),e("p",bt,o(d((K=(W=l.value)==null?void 0:W.tokens)==null?void 0:K.healthy)),1)]),e("div",ft,[t[18]||(t[18]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Expire 24h")],-1)),e("p",ht,o(d((U=(Q=l.value)==null?void 0:Q.tokens)==null?void 0:U.expiring24h)),1)]),e("div",kt,[t[19]||(t[19]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Expires")],-1)),e("p",yt,o(d((X=(G=l.value)==null?void 0:G.tokens)==null?void 0:X.expired)),1)]),e("div",wt,[t[20]||(t[20]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"A sync")],-1)),e("p",_t,o(d((Z=(Y=l.value)==null?void 0:Y.characters)==null?void 0:Z.needingSync)),1)])]),e("div",jt,[e("div",Ct,[t[21]||(t[21]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Assets")],-1)),e("p",Mt,o(d((te=(ee=l.value)==null?void 0:ee.assets)==null?void 0:te.totalItems)),1)]),e("div",At,[t[22]||(t[22]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-indigo-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Projets actifs")],-1)),e("p",Bt,o(d((oe=(se=l.value)==null?void 0:se.industry)==null?void 0:oe.activeProjects)),1)]),e("div",Ht,[t[23]||(t[23]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-violet-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Jobs ESI")],-1)),e("p",Lt,o(d((re=(le=l.value)==null?void 0:le.industryJobs)==null?void 0:re.activeJobs)),1)]),e("div",Vt,[t[24]||(t[24]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-teal-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-teal-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Structures")],-1)),e("p",zt,o(d((ae=(ne=l.value)==null?void 0:ne.syncs)==null?void 0:ae.structuresCached)),1)]),e("div",St,[t[25]||(t[25]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-cyan-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Queue")],-1)),e("p",It,o(((de=(ie=A.value)==null?void 0:ie.queues)==null?void 0:de.async)??"—"),1)]),e("div",Dt,[t[26]||(t[26]=e("div",{class:"flex items-center gap-2 mb-2"},[e("div",{class:"w-8 h-8 rounded-lg bg-red-500/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),e("span",{class:"text-xs text-slate-500 uppercase"},"Failed")],-1)),e("p",Et,o(((ue=(ce=A.value)==null?void 0:ce.queues)==null?void 0:ue.failed)??"—"),1)])]),e("div",Pt,[e("div",Ft,[t[30]||(t[30]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Dernieres synchronisations",-1)),e("div",$t,[e("div",Rt,[t[27]||(t[27]=e("span",{class:"text-slate-400"},"Assets",-1)),e("span",Tt,o((pe=(me=l.value)==null?void 0:me.syncs)!=null&&pe.lastAssetSync?a(k)(l.value.syncs.lastAssetSync):"—"),1)]),e("div",qt,[t[28]||(t[28]=e("span",{class:"text-slate-400"},"Jobs industrie",-1)),e("span",Nt,o((ve=(xe=l.value)==null?void 0:xe.syncs)!=null&&ve.lastIndustrySync?a(k)(l.value.syncs.lastIndustrySync):"—"),1)]),e("div",Jt,[t[29]||(t[29]=e("span",{class:"text-slate-400"},"Ansiblex",-1)),e("span",Ot,o(d((be=(ge=l.value)==null?void 0:ge.syncs)==null?void 0:be.ansiblexCount))+" gates",1)])])]),e("div",Wt,[t[52]||(t[52]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Actions",-1)),e("div",Kt,[e("button",{onClick:t[0]||(t[0]=u=>g("sync-assets",a(n).syncAssets)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="sync-assets"?(s(),r("svg",Ut,[...t[31]||(t[31]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",Gt,[...t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),t[33]||(t[33]=x(" Sync Assets ",-1))],8,Qt),e("button",{onClick:t[1]||(t[1]=u=>g("sync-market",a(n).syncMarket)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-amber-500/20 hover:bg-amber-500/30 text-amber-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="sync-market"?(s(),r("svg",Yt,[...t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",Zt,[...t[35]||(t[35]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),t[36]||(t[36]=x(" Sync Market ",-1))],8,Xt),e("button",{onClick:t[2]||(t[2]=u=>g("sync-industry",a(n).syncIndustry)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="sync-industry"?(s(),r("svg",ts,[...t[37]||(t[37]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",ss,[...t[38]||(t[38]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"},null,-1)])])),t[39]||(t[39]=x(" Sync Industry ",-1))],8,es),e("button",{onClick:t[3]||(t[3]=u=>g("sync-pve",a(n).syncPve)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="sync-pve"?(s(),r("svg",ls,[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",rs,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},null,-1)])])),t[42]||(t[42]=x(" Sync PVE ",-1))],8,os),e("button",{onClick:t[4]||(t[4]=u=>g("retry-failed",a(n).retryFailed)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-orange-500/20 hover:bg-orange-500/30 text-orange-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="retry-failed"?(s(),r("svg",as,[...t[43]||(t[43]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",is,[...t[44]||(t[44]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])),t[45]||(t[45]=x(" Retry Failed ",-1))],8,ns),e("button",{onClick:t[5]||(t[5]=u=>g("purge-failed",a(n).purgeFailed)),disabled:i.value!==null,class:"flex items-center justify-center gap-2 px-4 py-3 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="purge-failed"?(s(),r("svg",cs,[...t[46]||(t[46]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",us,[...t[47]||(t[47]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),t[48]||(t[48]=x(" Purge Failed ",-1))],8,ds),e("button",{onClick:t[6]||(t[6]=u=>g("clear-cache",a(n).clearCache)),disabled:i.value!==null,class:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-slate-500/20 hover:bg-slate-500/30 text-slate-400 rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[i.value==="clear-cache"?(s(),r("svg",ps,[...t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(s(),r("svg",xs,[...t[50]||(t[50]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)])])),t[51]||(t[51]=x(" Clear Cache Symfony ",-1))],8,ms)])])]),e("div",vs,[e("div",gs,[t[53]||(t[53]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Inscriptions par semaine",-1)),e("div",bs,[B.value?(s(),y(a(Ke),{key:0,data:B.value,options:V},null,8,["data"])):f("",!0)])]),e("div",fs,[t[54]||(t[54]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Connexions (7 derniers jours)",-1)),e("div",hs,[H.value?(s(),y(a(Qe),{key:0,data:H.value,options:V},null,8,["data"])):f("",!0)])]),e("div",ks,[t[55]||(t[55]=e("h3",{class:"text-lg font-semibold text-slate-200 mb-4"},"Repartition des assets",-1)),e("div",ys,[L.value?(s(),y(a(Ue),{key:0,data:L.value,options:je},null,8,["data"])):f("",!0)])])]),e("div",ws,[e("div",_s,[t[58]||(t[58]=e("h3",{class:"text-lg font-semibold text-slate-200"},"Revenus PVE par Corporation (30j)",-1)),e("div",js,[t[57]||(t[57]=e("div",{class:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),e("div",Cs,[e("p",Ms,o(a(h)(((he=(fe=l.value)==null?void 0:fe.pve)==null?void 0:he.totalIncome30d)||0)),1),t[56]||(t[56]=e("p",{class:"text-xs text-slate-500"},"Total 30 jours",-1))])])]),(we=(ye=(ke=l.value)==null?void 0:ke.pve)==null?void 0:ye.byCorporation)!=null&&we.length?(s(),r("div",As,[(s(!0),r(ze,null,Se(l.value.pve.byCorporation,(u,Ce)=>(s(),r("div",{key:u.corporationId,class:"flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg"},[e("span",Bs,o(Ce+1)+".",1),e("img",{src:`https://images.evetech.net/corporations/${u.corporationId}/logo?size=32`,class:"w-8 h-8 rounded",alt:u.corporationName},null,8,Hs),e("span",Ls,o(u.corporationName),1),e("span",Vs,o(a(h)(u.total)),1)]))),128))])):(s(),r("p",zs,"Aucune donnee PVE"))])])):f("",!0)]}),_:1}))}}),Is=(_,j)=>{const n=_.__vccOpts||_;for(const[h,k]of j)n[h]=k;return n},$s=Is(Ss,[["__scopeId","data-v-5ce10c0b"]]);export{$s as default};
