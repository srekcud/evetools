import{E as mt,r as i,G as De,d as ue,o as Oe,z as ft,h as a,c as n,k as r,b as e,F as E,t as l,n as T,e as m,q as ke,p as ce,u as yt,j as x,s as z,i as L,w as xt,B as P,C as Le,l as D,m as O,T as W,D as V,y as Z}from"./index-DyXu58aN.js";import{u as Fe}from"./useFormatters-SlNtu6dn.js";import{u as bt}from"./useEveImages-B3tDia7r.js";import{_ as ht}from"./MainLayout.vue_vue_type_style_index_0_lang-KV4uLK8U.js";import{C as $e,a as Ne,L as ze,P as gt,b as kt,p as Ve,c as Ee,d as Te,i as wt,e as _t,B as Ct,f as St,A as jt,D as It}from"./index-B5vvhQoz.js";const He=mt("pve",()=>{const A=i(null),d=i([]),u=i(!1),f=i(null),c=i(30);async function h(I){u.value=!0,f.value=null;try{const _=I??c.value;A.value=await De(`/pve/stats?days=${_}`)}catch(_){f.value=_ instanceof Error?_.message:"Failed to fetch stats"}finally{u.value=!1}}async function v(I){f.value=null;try{const _=I??c.value,F=await De(`/pve/stats/daily?days=${_}`);d.value=F.daily}catch(_){f.value=_ instanceof Error?_.message:"Failed to fetch daily stats"}}function g(I){c.value=I}function w(){f.value=null}return{stats:A,dailyStats:d,isLoading:u,error:f,selectedDays:c,fetchStats:h,fetchDailyStats:v,setSelectedDays:g,clearError:w}}),$t={class:"space-y-6"},Et={key:0,class:"flex items-center justify-center py-12"},Tt={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4"},At={class:"bg-slate-800 rounded-lg p-4"},Bt={class:"text-2xl font-bold text-emerald-400"},Mt={class:"bg-slate-800 rounded-lg p-4"},Pt={class:"text-2xl font-bold text-red-400"},Dt={class:"bg-slate-800 rounded-lg p-4"},Lt={class:"bg-slate-800 rounded-lg p-4"},Ot={class:"text-2xl font-bold text-cyan-400"},Ft={key:1,class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Nt={class:"bg-slate-800/50 rounded-lg p-3"},zt={class:"text-lg font-medium text-emerald-400"},Vt={class:"bg-slate-800/50 rounded-lg p-3"},Ht={class:"text-lg font-medium text-violet-400"},Rt={class:"bg-slate-800/50 rounded-lg p-3"},qt={class:"text-lg font-medium text-sky-400"},Jt={class:"bg-slate-800/50 rounded-lg p-3"},Ut={class:"text-lg font-medium text-amber-400"},Kt={key:2,class:"text-center py-12 text-slate-500"},Qt=ue({__name:"PveDashboard",props:{days:{}},setup(A){const d=A,u=He(),{formatIsk:f}=Fe();async function c(){const h=d.days??u.selectedDays;await Promise.all([u.fetchStats(h),u.fetchDailyStats(h)])}return Oe(()=>{c()}),ft(()=>d.days,()=>{c()}),(h,v)=>(a(),n("div",$t,[r(u).isLoading?(a(),n("div",Et,[...v[0]||(v[0]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"},null,-1),e("span",{class:"ml-3 text-slate-400"},"Chargement des statistiques...",-1)])])):(a(),n(E,{key:1},[r(u).stats?(a(),n("div",Tt,[e("div",At,[v[1]||(v[1]=e("div",{class:"text-slate-400 text-sm"},"Revenus totaux",-1)),e("div",Bt,l(r(f)(r(u).stats.totals.income)),1)]),e("div",Mt,[v[2]||(v[2]=e("div",{class:"text-slate-400 text-sm"},"Dépenses totales",-1)),e("div",Pt,l(r(f)(r(u).stats.totals.expenses)),1)]),e("div",Dt,[v[3]||(v[3]=e("div",{class:"text-slate-400 text-sm"},"Bénéfice net",-1)),e("div",{class:T(["text-2xl font-bold",r(u).stats.totals.profit>=0?"text-emerald-400":"text-red-400"])},l(r(f)(r(u).stats.totals.profit)),3)]),e("div",Lt,[v[4]||(v[4]=e("div",{class:"text-slate-400 text-sm"},"ISK/jour (moy.)",-1)),e("div",Ot,l(r(f)(r(u).stats.iskPerDay)),1)])])):m("",!0),r(u).stats?(a(),n("div",Ft,[e("div",Nt,[v[5]||(v[5]=e("div",{class:"text-slate-500 text-xs"},"Bounties",-1)),e("div",zt,l(r(f)(r(u).stats.totals.bounties)),1)]),e("div",Vt,[v[6]||(v[6]=e("div",{class:"text-slate-500 text-xs"},"ESS Payouts",-1)),e("div",Ht,l(r(f)(r(u).stats.totals.ess)),1)]),e("div",Rt,[v[7]||(v[7]=e("div",{class:"text-slate-500 text-xs"},"Missions",-1)),e("div",qt,l(r(f)(r(u).stats.totals.missions)),1)]),e("div",Jt,[v[8]||(v[8]=e("div",{class:"text-slate-500 text-xs"},"Ventes de loot",-1)),e("div",Ut,l(r(f)(r(u).stats.totals.lootSales)),1)])])):m("",!0),!r(u).stats&&!r(u).isLoading?(a(),n("div",Kt,[...v[9]||(v[9]=[e("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("p",{class:"text-lg"},"Aucune donnée à afficher",-1),e("p",{class:"text-sm mt-1"},"Commencez à suivre vos activités PVE pour voir les statistiques",-1)])])):m("",!0)],64))]))}}),Yt={class:"bg-gray-800 rounded-lg p-4"},Wt={class:"h-64"},Zt=ue({__name:"IncomeChart",props:{data:{}},setup(A){$e.register(Ne,ze,gt,kt,Ve,Ee,Te,wt);const d=A,u=ce(()=>({labels:d.data.map(c=>new Date(c.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})),datasets:[{label:"Total Income",data:d.data.map(c=>c.income/1e9),borderColor:"#06b6d4",backgroundColor:"rgba(6, 182, 212, 0.1)",fill:!0,tension:.3},{label:"Bounties",data:d.data.map(c=>c.bounties/1e9),borderColor:"#10b981",backgroundColor:"transparent",tension:.3},{label:"Loot Sales",data:d.data.map(c=>c.lootSales/1e9),borderColor:"#f59e0b",backgroundColor:"transparent",tension:.3}]})),f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#9ca3af"}},tooltip:{callbacks:{label:c=>`${c.dataset.label}: ${c.raw.toFixed(2)}B ISK`}}},scales:{x:{ticks:{color:"#9ca3af"},grid:{color:"rgba(75, 85, 99, 0.3)"}},y:{ticks:{color:"#9ca3af",callback:c=>`${c}B`},grid:{color:"rgba(75, 85, 99, 0.3)"}}}};return(c,h)=>(a(),n("div",Yt,[h[0]||(h[0]=e("h3",{class:"text-lg font-medium text-white mb-4"},"Income Over Time",-1)),e("div",Wt,[ke(r(_t),{data:u.value,options:f},null,8,["data"])])]))}}),Gt={class:"bg-gray-800 rounded-lg p-4"},Xt={class:"h-64"},es=ue({__name:"ProfitTrendChart",props:{data:{}},setup(A){$e.register(Ne,ze,Ct,Ve,Ee,Te);const d=A,u=ce(()=>({labels:d.data.map(c=>new Date(c.date).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit"})),datasets:[{label:"Profit",data:d.data.map(c=>c.profit/1e9),backgroundColor:d.data.map(c=>c.profit>=0?"rgba(16, 185, 129, 0.7)":"rgba(239, 68, 68, 0.7)"),borderColor:d.data.map(c=>c.profit>=0?"#10b981":"#ef4444"),borderWidth:1}]})),f={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:c=>{const h=c.raw;return`Profit: ${h>=0?"+":""}${h.toFixed(2)}B ISK`}}}},scales:{x:{ticks:{color:"#9ca3af"},grid:{display:!1}},y:{ticks:{color:"#9ca3af",callback:c=>`${c}B`},grid:{color:"rgba(75, 85, 99, 0.3)"}}}};return(c,h)=>(a(),n("div",Gt,[h[0]||(h[0]=e("h3",{class:"text-lg font-medium text-white mb-4"},"Daily Profit",-1)),e("div",Xt,[ke(r(St),{data:u.value,options:f},null,8,["data"])])]))}}),ts={class:"bg-gray-800 rounded-lg p-4"},ss={key:0,class:"h-64"},os={key:1,class:"h-64 flex items-center justify-center text-gray-500"},as=ue({__name:"ExpenseBreakdownChart",props:{data:{}},setup(A){$e.register(jt,Ee,Te);const d=A,u={fuel:"Fuel",ammo:"Consommables",crab_beacon:"CRAB Beacons",other:"Other"},f={fuel:"#ef4444",ammo:"#f59e0b",crab_beacon:"#8b5cf6",other:"#6b7280"},c=ce(()=>{const g=[],w=[],I=[];return Object.entries(d.data).forEach(([_,F])=>{F>0&&(g.push(u[_]||_),w.push(F/1e9),I.push(f[_]||"#6b7280"))}),{labels:g,datasets:[{data:w,backgroundColor:I,borderColor:"#1f2937",borderWidth:2}]}}),h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{color:"#9ca3af",padding:15}},tooltip:{callbacks:{label:g=>{const w=g.dataset.data.reduce((_,F)=>_+F,0),I=(g.raw/w*100).toFixed(1);return`${g.label}: ${g.raw.toFixed(2)}B ISK (${I}%)`}}}}},v=ce(()=>Object.values(d.data).some(g=>g>0));return(g,w)=>(a(),n("div",ts,[w[0]||(w[0]=e("h3",{class:"text-lg font-medium text-white mb-4"},"Expense Breakdown",-1)),v.value?(a(),n("div",ss,[ke(r(It),{data:c.value,options:h},null,8,["data"])])):(a(),n("div",os," No expenses recorded "))]))}}),ns={class:"flex items-center justify-between mb-6"},ls={key:0,class:"text-xs text-slate-500 mt-1"},rs={key:1,class:"text-xs text-amber-500 mt-1"},is={class:"flex items-center gap-3"},ds=["value"],cs=["disabled"],us=["disabled"],ps={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ms={key:0,class:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 flex items-center justify-between"},fs={key:1,class:"flex flex-col items-center justify-center py-20"},ys={class:"mb-8"},xs={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},bs={class:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden"},hs={class:"px-5 py-4 border-b border-slate-800"},gs={class:"text-sm text-slate-500"},ks={key:0,class:"divide-y divide-slate-800 max-h-96 overflow-y-auto"},ws={class:"flex items-center gap-2"},_s={class:"text-sm text-slate-200"},Cs={class:"text-xs text-slate-500"},Ss={class:"text-emerald-400 font-mono text-sm"},js={key:1,class:"px-5 py-8 text-center text-slate-500"},Is={class:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden"},$s={class:"px-5 py-4 border-b border-slate-800 flex items-center justify-between"},Es={class:"flex gap-2"},Ts=["disabled"],As={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bs={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ms=["title"],Ps={key:0,class:"divide-y divide-slate-800 max-h-96 overflow-y-auto"},Ds={class:"flex items-center gap-3"},Ls={class:"text-sm text-slate-200"},Os={class:"text-xs text-slate-500"},Fs={class:"flex items-center gap-3"},Ns={class:"text-amber-400 font-mono text-sm"},zs=["onClick"],Vs={key:1,class:"px-5 py-8 text-center text-slate-500"},Hs={class:"bg-slate-900 rounded-xl border border-slate-800 overflow-hidden"},Rs={key:0,class:"divide-y divide-slate-800 max-h-96 overflow-y-auto"},qs={class:"flex items-center gap-3"},Js={class:"text-sm text-slate-200"},Us={class:"text-xs text-slate-500"},Ks={class:"flex items-center gap-3"},Qs={class:"text-red-400 font-mono text-sm"},Ys=["onClick"],Ws={key:1,class:"px-5 py-8 text-center text-slate-500"},Zs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},Gs={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-md w-full p-6"},Xs={class:"space-y-4"},eo=["value"],to={key:0,class:"text-red-400 text-xs mt-1"},so={key:0,class:"text-red-400 text-xs mt-1"},oo={class:"flex gap-3 mt-6"},ao=["disabled"],no=["disabled"],lo={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ro={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-lg w-full p-6"},io={class:"flex items-center justify-between mb-4"},co={class:"relative mb-4"},uo={key:0,class:"absolute right-3 top-2.5"},po={key:0,class:"mb-4 bg-slate-800 rounded-lg border border-slate-700 max-h-48 overflow-y-auto"},vo=["onClick","disabled"],mo={key:1,class:"space-y-2 max-h-48 overflow-y-auto"},fo={class:"flex items-center gap-3"},yo=["src","alt"],xo={class:"text-sm"},bo=["onClick"],ho={key:2,class:"text-center py-6 text-slate-500"},go={class:"mt-6 pt-4 border-t border-slate-800"},ko={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-lg w-full p-6"},wo={class:"flex items-center justify-between mb-4"},_o={class:"relative mb-4"},Co={key:0,class:"absolute right-3 top-2.5"},So={key:0,class:"mb-4 bg-slate-800 rounded-lg border border-slate-700 max-h-48 overflow-y-auto"},jo=["onClick","disabled"],Io={key:1,class:"space-y-2 max-h-48 overflow-y-auto"},$o={class:"flex items-center gap-3"},Eo=["src","alt"],To={class:"text-sm"},Ao=["onClick"],Bo={key:2,class:"text-center py-6 text-slate-500"},Mo={class:"mt-6 pt-4 border-t border-slate-800"},Po={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[80vh] flex flex-col"},Do={class:"p-6 border-b border-slate-800"},Lo={class:"flex items-center justify-between"},Oo={class:"text-sm text-slate-400 mt-1"},Fo={key:0,class:"flex-1 overflow-y-auto p-6"},No={class:"space-y-3"},zo=["onClick"],Vo={class:"flex items-start gap-4"},Ho={class:"flex-shrink-0 pt-1"},Ro={key:0,class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qo=["src","alt"],Jo={class:"flex-1 min-w-0"},Uo={class:"flex items-center gap-2 mb-1"},Ko={key:0,class:"text-xs text-slate-500"},Qo={key:1,class:"text-xs text-blue-400"},Yo={class:"text-sm text-slate-300"},Wo={class:"text-right"},Zo={class:"text-red-400 font-mono"},Go={class:"text-xs text-slate-500"},Xo={key:1,class:"flex-1 flex items-center justify-center p-6"},ea={key:2,class:"p-6 border-t border-slate-800"},ta={class:"flex items-center justify-between mb-4"},sa={class:"text-sm text-slate-400"},oa={class:"text-red-400 font-mono"},aa={class:"flex gap-3"},na=["disabled"],la={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ra={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-md w-full p-6"},ia={class:"space-y-4"},da={key:0,class:"text-red-400 text-xs mt-1"},ca={key:0,class:"text-red-400 text-xs mt-1"},ua={class:"flex gap-3 mt-6"},pa=["disabled"],va=["disabled"],ma={key:0,class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fa={class:"bg-slate-900 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[80vh] flex flex-col"},ya={class:"p-6 border-b border-slate-800"},xa={class:"flex items-center justify-between"},ba={class:"text-sm text-slate-400 mt-1"},ha={key:0,class:"flex-1 overflow-y-auto p-6"},ga={class:"space-y-3"},ka={class:"flex items-start gap-4"},wa=["src","alt"],_a={class:"flex-1 min-w-0"},Ca={class:"flex items-center gap-2 mb-1"},Sa={key:0,class:"text-xs px-2 py-0.5 rounded bg-amber-500/20 text-amber-400"},ja={key:1,class:"text-xs px-2 py-0.5 rounded bg-violet-500/20 text-violet-400"},Ia={key:2,class:"text-xs px-2 py-0.5 rounded bg-blue-500/20 text-blue-400"},$a={class:"text-xs text-slate-500"},Ea={class:"text-sm text-slate-300"},Ta={class:"text-xs text-slate-500"},Aa={class:"flex flex-col items-end gap-2"},Ba={key:0,class:"flex items-center gap-1"},Ma=["onUpdate:modelValue","placeholder"],Pa={key:1,class:"text-amber-400 font-mono text-sm"},Da={class:"flex gap-2"},La=["onClick","disabled"],Oa=["onClick","disabled"],Fa={key:1,class:"flex-1 flex items-center justify-center p-6"},Na={key:2,class:"p-4 border-t border-slate-800"},za={class:"flex items-center justify-between"},Va={class:"text-sm text-slate-400"},Ka=ue({__name:"Pve",setup(A){const d=yt(),u=He(),{formatIskFull:f,formatDate:c,formatDateTime:h}=Fe(),{getTypeIconUrl:v,onImageError:g}=bt(),w=i(null),I=i([]),_=i(!1),F=i(!1),G=i(!1),k=i(""),H=i(30),Ae=ce(()=>{const o=new Date,t=new Date(o.getFullYear(),0,1),p=o.getTime()-t.getTime();return Math.ceil(p/(1e3*60*60*24))}),X=i(!1),j=i({type:"fuel",description:"",amount:"",date:new Date().toISOString().split("T")[0]}),R=i(!1),B=i({}),pe=i([]),ee=i(!1),q=i(""),te=i([]),we=i(!1),_e=i(!1),ve=i([]),J=i(!1),U=i(""),se=i([]),Ce=i(!1),Se=i(!1),K=i(!1),C=i(null),oe=i(!1),ae=i(!1),ne=i(!1),$=i({description:"",amount:"",date:new Date().toISOString().split("T")[0]}),M=i({}),Q=i(!1),le=i(!1),S=i(null),me=i(!1),fe=i(!1),ye=i(new Set),re=i(new Set),xe=i(0),be=i(0),Be=[{value:"fuel",label:"Fuel"},{value:"ammo",label:"Consommables"},{value:"crab_beacon",label:"Crab Beacon"},{value:"other",label:"Autre"}];async function N(){_.value=!0,k.value="";try{const o=await x(`/api/pve/income?days=${H.value}`,{headers:{Authorization:`Bearer ${d.token}`}});if(!o.ok)throw new Error("Failed to fetch PVE data");w.value=await z(o)}catch(o){k.value="Erreur lors du chargement des données PVE",console.error(o)}finally{_.value=!1}}async function Y(){F.value=!0;try{const o=await x(`/api/pve/expenses?days=${H.value}`,{headers:{Authorization:`Bearer ${d.token}`}});o.ok&&(I.value=await z(o))}catch(o){console.error("Failed to fetch expenses:",o)}finally{F.value=!1}}async function Re(){G.value=!0,k.value="";try{const o=await x("/api/pve/sync",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!o.ok){const t=await z(o);throw new Error(t.error||"Failed to sync")}await Promise.all([N(),Y()])}catch(o){k.value=o instanceof Error?o.message:"Erreur lors de la synchronisation",console.error(o)}finally{G.value=!1}}async function qe(){if(B.value={},j.value.description.trim()||(B.value.description="Description requise"),(!j.value.amount||parseFloat(j.value.amount)<=0)&&(B.value.amount="Montant requis"),!(Object.keys(B.value).length>0)){R.value=!0;try{if(!(await x("/api/pve/expenses",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({type:j.value.type,description:j.value.description,amount:parseFloat(j.value.amount),date:j.value.date})})).ok)throw new Error("Failed to add expense");j.value={type:"fuel",description:"",amount:"",date:new Date().toISOString().split("T")[0]},X.value=!1,await Promise.all([N(),Y()])}catch(o){k.value="Erreur lors de l'ajout de la dépense",console.error(o)}finally{R.value=!1}}}async function Je(o){try{if(!(await x(`/api/pve/expenses/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok)throw new Error("Failed to delete expense");await Promise.all([N(),Y()])}catch(t){k.value="Erreur lors de la suppression",console.error(t)}}function Me(o){var t;return((t=Be.find(p=>p.value===o))==null?void 0:t.label)||o}function Pe(o){switch(o){case"fuel":return"bg-orange-500/20 text-orange-400";case"ammo":return"bg-red-500/20 text-red-400";case"crab_beacon":return"bg-purple-500/20 text-purple-400";default:return"bg-slate-500/20 text-slate-400"}}Oe(()=>{N(),Y(),ie()});function Ue(){N(),Y()}function Ke(){B.value={},X.value=!0}async function ie(){try{const o=await x("/api/pve/settings",{headers:{Authorization:`Bearer ${d.token}`}});if(o.ok){const t=await z(o);pe.value=t.ammoTypes,ve.value=t.lootTypes||[],xe.value=t.declinedContractsCount||0,be.value=t.declinedTransactionsCount||0}}catch(o){console.error("Failed to fetch ammo settings:",o)}}let je=null;function Qe(){if(je&&clearTimeout(je),q.value.length<2){te.value=[];return}je=setTimeout(()=>Ye(),300)}async function Ye(){if(!(q.value.length<2)){we.value=!0;try{const o=await x(`/api/pve/search-types?query=${encodeURIComponent(q.value)}`,{headers:{Authorization:`Bearer ${d.token}`}});if(o.ok){const t=await z(o),p=pe.value.map(y=>y.typeId);te.value=t.filter(y=>!p.includes(y.typeId))}}catch(o){console.error("Failed to search ammo types:",o)}finally{we.value=!1}}}async function We(o){_e.value=!0;try{(await x("/api/pve/settings/ammo",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({typeId:o})})).ok&&(await ie(),q.value="",te.value=[])}catch(t){console.error("Failed to add ammo type:",t)}finally{_e.value=!1}}async function Ze(o){try{(await x(`/api/pve/settings/ammo/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok&&await ie()}catch(t){console.error("Failed to remove ammo type:",t)}}let Ie=null;function Ge(){if(Ie&&clearTimeout(Ie),U.value.length<2){se.value=[];return}Ie=setTimeout(()=>Xe(),300)}async function Xe(){if(!(U.value.length<2)){Ce.value=!0;try{const o=await x(`/api/pve/search-types?query=${encodeURIComponent(U.value)}`,{headers:{Authorization:`Bearer ${d.token}`}});if(o.ok){const t=await z(o),p=ve.value.map(y=>y.typeId);se.value=t.filter(y=>!p.includes(y.typeId))}}catch(o){console.error("Failed to search loot types:",o)}finally{Ce.value=!1}}}async function et(o){Se.value=!0;try{(await x("/api/pve/settings/loot",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({typeId:o})})).ok&&(await ie(),U.value="",se.value=[])}catch(t){console.error("Failed to add loot type:",t)}finally{Se.value=!1}}async function tt(o){try{(await x(`/api/pve/settings/loot/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok&&await ie()}catch(t){console.error("Failed to remove loot type:",t)}}async function st(){oe.value=!0,k.value="";try{const o=await x(`/api/pve/scan-contracts?days=${H.value}`,{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!o.ok){const p=await z(o);throw new Error(p.error||"Failed to scan contracts")}const t=await z(o);t.detectedExpenses=t.detectedExpenses.map(p=>({...p,selected:!0})),C.value=t,K.value=!0}catch(o){k.value=o instanceof Error?o.message:"Erreur lors du scan des contrats",console.error(o)}finally{oe.value=!1}}function ot(o){o.selected=!o.selected}function at(){C.value&&C.value.detectedExpenses.forEach(o=>o.selected=!0)}function nt(){C.value&&C.value.detectedExpenses.forEach(o=>o.selected=!1)}async function lt(){if(!C.value)return;const o=C.value.detectedExpenses.filter(p=>p.selected),t=C.value.detectedExpenses.filter(p=>!p.selected);ae.value=!0,k.value="";try{if(!(await x("/api/pve/import-expenses",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({expenses:o.map(y=>({type:y.type,typeId:y.typeId,typeName:y.typeName,quantity:y.quantity,price:y.price,dateIssued:y.dateIssued,contractId:y.contractId,transactionId:y.transactionId})),declined:t.map(y=>({contractId:y.contractId,transactionId:y.transactionId}))})})).ok)throw new Error("Failed to import expenses");K.value=!1,C.value=null,await Promise.all([N(),Y()])}catch(p){k.value="Erreur lors de l'import des dépenses",console.error(p)}finally{ae.value=!1}}function rt(){M.value={},ne.value=!0}async function it(){if(M.value={},$.value.description.trim()||(M.value.description="Description requise"),(!$.value.amount||parseFloat($.value.amount)<=0)&&(M.value.amount="Montant requis"),!(Object.keys(M.value).length>0)){Q.value=!0;try{if(!(await x("/api/pve/loot-sales",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({description:$.value.description,amount:parseFloat($.value.amount),date:$.value.date})})).ok)throw new Error("Failed to add loot sale");$.value={description:"",amount:"",date:new Date().toISOString().split("T")[0]},ne.value=!1,await N()}catch(o){k.value="Erreur lors de l'ajout de la vente",console.error(o)}finally{Q.value=!1}}}async function dt(o){try{if(!(await x(`/api/pve/loot-sales/${o}`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})})).ok)throw new Error("Failed to delete loot sale");await N()}catch(t){k.value="Erreur lors de la suppression",console.error(t)}}async function ct(){me.value=!0,k.value="";try{const[o,t]=await Promise.all([x(`/api/pve/scan-loot-sales?days=${H.value}`,{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})}),x(`/api/pve/scan-loot-contracts?days=${H.value}`,{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({})})]),p=o.ok?await o.json():{detectedSales:[]},y=t.ok?await t.json():{detectedContracts:[]},he=(p.detectedSales||[]).filter(s=>s.source!=="contract").filter(s=>!re.value.has(s.transactionId)).map(s=>({...s,selected:!0,needsPriceInput:s.source==="corp_project"&&s.price===0})),ge=(y.detectedContracts||[]).filter(s=>!ye.value.has(s.contractId)).map(s=>{var b;return{transactionId:0,contractId:s.contractId,type:"loot_contract",typeId:((b=s.items[0])==null?void 0:b.typeId)||0,typeName:s.description,quantity:s.totalQuantity,price:s.contractPrice,dateIssued:s.date,characterName:s.characterName,source:"contract",selected:!0,needsPriceInput:s.contractPrice===0}}),de=[...he,...ge];if(de.length===0&&p.noLootTypesConfigured){J.value=!0;return}S.value={scannedTransactions:p.scannedTransactions||0,scannedContracts:(p.scannedContracts||0)+(y.scannedContracts||0),scannedProjects:p.scannedProjects||0,detectedSales:de},le.value=!0}catch(o){k.value=o instanceof Error?o.message:"Erreur lors du scan des ventes",console.error(o)}finally{me.value=!1}}async function ut(o){if(S.value){fe.value=!0,k.value="";try{if(o.source==="contract"){const t=await x("/api/pve/import-loot-contracts",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({contracts:[{contractId:o.contractId,price:o.price,description:o.typeName,date:o.dateIssued}],declined:[]})});if(!t.ok)throw new Error("Failed to import contract");const p=await z(t);if(p.rejectedZeroPrice&&p.rejectedZeroPrice>0){k.value="Contrat rejeté : le prix doit être supérieur à 0 ISK";return}o.contractId&&ye.value.add(o.contractId)}else if(o.source==="corp_project"){if(!(await x("/api/pve/import-loot-sales",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({sales:[{type:"corp_project",typeId:o.typeId,typeName:`${o.projectName||"Projet corp"}: ${o.typeName}`,quantity:o.quantity,price:o.price,dateIssued:o.dateIssued,transactionId:o.transactionId}],declined:[]})})).ok)throw new Error("Failed to import contribution");o.transactionId&&re.value.add(o.transactionId)}else{if(!(await x("/api/pve/import-loot-sales",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({sales:[{type:o.type,typeId:o.typeId,typeName:o.typeName,quantity:o.quantity,price:o.price,dateIssued:o.dateIssued,transactionId:o.transactionId}],declined:[]})})).ok)throw new Error("Failed to import sale");o.transactionId&&re.value.add(o.transactionId)}S.value.detectedSales=S.value.detectedSales.filter(t=>t!==o),await N()}catch(t){k.value="Erreur lors de l'import",console.error(t)}finally{fe.value=!1}}}async function pt(o){if(S.value)try{o.source==="contract"?(await x("/api/pve/import-loot-contracts",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({contracts:[],declined:[{contractId:o.contractId}]})}),o.contractId&&ye.value.add(o.contractId)):(await x("/api/pve/import-loot-sales",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({sales:[],declined:[{transactionId:o.transactionId}]})}),o.transactionId&&re.value.add(o.transactionId)),S.value.detectedSales=S.value.detectedSales.filter(t=>t!==o)}catch(t){k.value="Erreur lors de l'ignorement",console.error(t)}}async function vt(){const o=[],t=[];if(S.value)for(const p of S.value.detectedSales)p.source==="contract"&&p.contractId?o.push(p.contractId):p.transactionId&&t.push(p.transactionId);try{await x("/api/pve/settings/reset-declined",{method:"POST",headers:{Authorization:`Bearer ${d.token}`,"Content-Type":"application/json"},body:JSON.stringify({keepContractIds:o,keepTransactionIds:t})}),xe.value=o.length,be.value=t.length}catch(p){console.error("Failed to reset declined:",p)}ye.value.clear(),re.value.clear()}return(o,t)=>(a(),L(ht,null,{default:xt(()=>{var p,y,he,ge,de;return[e("div",ns,[e("div",null,[t[33]||(t[33]=e("p",{class:"text-slate-400"},"Suivi des revenus et dépenses PVE",-1)),(p=w.value)!=null&&p.lastSyncAt?(a(),n("p",ls," Dernière sync : "+l(r(h)(w.value.lastSyncAt)),1)):(a(),n("p",rs," Aucune synchronisation effectuée "))]),e("div",is,[P(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>H.value=s),onChange:Ue,class:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-cyan-500"},[t[34]||(t[34]=e("option",{value:7},"7 jours",-1)),t[35]||(t[35]=e("option",{value:14},"14 jours",-1)),t[36]||(t[36]=e("option",{value:30},"30 jours",-1)),t[37]||(t[37]=e("option",{value:60},"60 jours",-1)),t[38]||(t[38]=e("option",{value:90},"90 jours",-1)),e("option",{value:Ae.value},"YTD ("+l(Ae.value)+" jours)",9,ds)],544),[[Le,H.value]]),e("button",{onClick:t[1]||(t[1]=s=>ee.value=!0),class:"px-4 py-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-slate-300 text-sm font-medium flex items-center gap-2",title:"Configurer les consommables"},[...t[39]||(t[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),D(" Consommables ",-1)])]),e("button",{onClick:Re,disabled:G.value,class:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white text-sm font-medium flex items-center gap-2 disabled:opacity-50",title:"Synchroniser les données depuis EVE"},[(a(),n("svg",{class:T(["w-4 h-4",G.value?"animate-spin":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[40]||(t[40]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2)),D(" "+l(G.value?"Sync...":"Rafraîchir"),1)],8,cs),e("button",{onClick:st,disabled:oe.value,class:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg text-white text-sm font-medium flex items-center gap-2 disabled:opacity-50"},[oe.value?(a(),n("svg",ps,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(a(),n("svg",vs,[...t[42]||(t[42]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},null,-1)])])),D(" "+l(oe.value?"Scan en cours...":"Scanner achats"),1)],8,us),e("button",{type:"button",onClick:Ke,class:"px-4 py-2 bg-cyan-600 hover:bg-cyan-500 rounded-lg text-white text-sm font-medium flex items-center gap-2"},[...t[43]||(t[43]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),D(" Ajouter dépense ",-1)])])])]),k.value?(a(),n("div",ms,[e("span",null,l(k.value),1),e("button",{onClick:t[2]||(t[2]=s=>k.value=""),class:"text-red-400 hover:text-red-300"},[...t[44]||(t[44]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):m("",!0),_.value?(a(),n("div",fs,[...t[45]||(t[45]=[e("svg",{class:"w-10 h-10 animate-spin text-cyan-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("p",{class:"text-slate-400"},"Chargement des données...",-1)])])):w.value?(a(),n(E,{key:2},[e("div",ys,[ke(Qt,{days:H.value},null,8,["days"])]),e("div",xs,[e("div",bs,[e("div",hs,[t[46]||(t[46]=e("h3",{class:"font-semibold"},"Bounties récentes",-1)),e("p",gs,"Revenus NPC des "+l(w.value.period.days)+" derniers jours",1)]),w.value.bounties.entries.length>0?(a(),n("div",ks,[(a(!0),n(E,null,O(w.value.bounties.entries,s=>(a(),n("div",{key:s.id,class:"px-5 py-3 flex items-center justify-between"},[e("div",ws,[e("span",{class:T(["text-xs px-2 py-0.5 rounded",s.refType==="ess"?"bg-violet-500/20 text-violet-400":s.refType==="mission"?"bg-sky-500/20 text-sky-400":"bg-emerald-500/20 text-emerald-400"])},l(s.refTypeLabel),3),e("div",null,[e("p",_s,l(s.characterName),1),e("p",Cs,l(r(h)(s.date)),1)])]),e("span",Ss,"+"+l(r(f)(s.amount)),1)]))),128))])):(a(),n("div",js," Aucune bounty sur cette période "))]),e("div",Is,[e("div",$s,[t[52]||(t[52]=e("div",null,[e("h3",{class:"font-semibold"},"Ventes de loot")],-1)),e("div",Es,[e("button",{onClick:t[3]||(t[3]=s=>J.value=!0),class:"p-1.5 bg-slate-700 hover:bg-slate-600 rounded text-white",title:"Configurer les types de loot"},[...t[47]||(t[47]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),e("button",{onClick:ct,disabled:me.value,class:"p-1.5 bg-amber-600 hover:bg-amber-500 rounded text-white disabled:opacity-50",title:"Scanner les ventes"},[me.value?(a(),n("svg",As,[...t[48]||(t[48]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):(a(),n("svg",Bs,[...t[49]||(t[49]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])]))],8,Ts),xe.value>0||be.value>0?(a(),n("button",{key:0,onClick:vt,class:"p-1.5 bg-slate-700 hover:bg-red-600 rounded text-slate-400 hover:text-white",title:`Réinitialiser le filtre (${xe.value+be.value} éléments masqués)`},[...t[50]||(t[50]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],8,Ms)):m("",!0),e("button",{type:"button",onClick:rt,class:"p-1.5 bg-slate-700 hover:bg-slate-600 rounded text-white",title:"Ajouter manuellement"},[...t[51]||(t[51]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])])])]),w.value.lootSales.entries.length>0?(a(),n("div",Ps,[(a(!0),n(E,null,O(w.value.lootSales.entries,s=>(a(),n("div",{key:s.id,class:"px-5 py-3 flex items-center justify-between group"},[e("div",Ds,[e("span",{class:T(["text-xs px-2 py-1 rounded",s.type==="corp_project"?"bg-cyan-500/20 text-cyan-400":"bg-amber-500/20 text-amber-400"])},l(s.type==="corp_project"?"Projet":"Loot"),3),e("div",null,[e("p",Ls,l(s.description),1),e("p",Os,l(r(c)(s.date)),1)])]),e("div",Fs,[e("span",Ns,"+"+l(r(f)(s.amount)),1),e("button",{onClick:b=>dt(s.id),class:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-all",title:"Supprimer"},[...t[53]||(t[53]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,zs)])]))),128))])):(a(),n("div",Vs," Aucune vente enregistrée "))]),e("div",Hs,[t[55]||(t[55]=e("div",{class:"px-5 py-4 border-b border-slate-800"},[e("h3",{class:"font-semibold"},"Dépenses"),e("p",{class:"text-sm text-slate-500"},"Fuel, consommables, beacons...")],-1)),I.value.length>0?(a(),n("div",Rs,[(a(!0),n(E,null,O(I.value,s=>(a(),n("div",{key:s.id,class:"px-5 py-3 flex items-center justify-between group"},[e("div",qs,[e("span",{class:T(["text-xs px-2 py-1 rounded",Pe(s.type)])},l(Me(s.type)),3),e("div",null,[e("p",Js,l(s.description),1),e("p",Us,l(r(c)(s.date)),1)])]),e("div",Ks,[e("span",Qs,"-"+l(r(f)(s.amount)),1),e("button",{onClick:b=>Je(s.id),class:"opacity-0 group-hover:opacity-100 p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-all",title:"Supprimer"},[...t[54]||(t[54]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ys)])]))),128))])):(a(),n("div",Ws," Aucune dépense enregistrée "))])]),e("div",Zs,[r(u).dailyStats.length>0?(a(),L(Zt,{key:0,data:r(u).dailyStats},null,8,["data"])):m("",!0),r(u).dailyStats.length>0?(a(),L(es,{key:1,data:r(u).dailyStats},null,8,["data"])):m("",!0),r(u).stats&&r(u).stats.totals.expenses>0?(a(),L(as,{key:2,data:{fuel:((y=r(u).stats.expensesByType)==null?void 0:y.fuel)??0,ammo:((he=r(u).stats.expensesByType)==null?void 0:he.ammo)??0,crab_beacon:((ge=r(u).stats.expensesByType)==null?void 0:ge.crab_beacon)??0,other:((de=r(u).stats.expensesByType)==null?void 0:de.other)??0}},null,8,["data"])):m("",!0)])],64)):m("",!0),(a(),L(W,{to:"body"},[X.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[9]||(t[9]=Z(s=>X.value=!1,["self"]))},[e("div",Gs,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold mb-4"},"Ajouter une dépense",-1)),e("div",Xs,[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm text-slate-400 mb-1"},"Type",-1)),P(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>j.value.type=s),class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-cyan-500"},[(a(),n(E,null,O(Be,s=>e("option",{key:s.value,value:s.value},l(s.label),9,eo)),64))],512),[[Le,j.value.type]])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm text-slate-400 mb-1"},[D("Description "),e("span",{class:"text-red-400"},"*")],-1)),P(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>j.value.description=s),type:"text",placeholder:"Ex: 500 Helium Isotopes",class:T(["w-full bg-slate-800 border rounded-lg px-4 py-2 text-sm focus:outline-none",B.value.description?"border-red-500 focus:border-red-500":"border-slate-700 focus:border-cyan-500"])},null,2),[[V,j.value.description]]),B.value.description?(a(),n("p",to,l(B.value.description),1)):m("",!0)]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm text-slate-400 mb-1"},[D("Montant (ISK) "),e("span",{class:"text-red-400"},"*")],-1)),P(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>j.value.amount=s),type:"number",placeholder:"150000000",class:T(["w-full bg-slate-800 border rounded-lg px-4 py-2 text-sm focus:outline-none",B.value.amount?"border-red-500 focus:border-red-500":"border-slate-700 focus:border-cyan-500"])},null,2),[[V,j.value.amount]]),B.value.amount?(a(),n("p",so,l(B.value.amount),1)):m("",!0)]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm text-slate-400 mb-1"},"Date",-1)),P(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>j.value.date=s),type:"date",class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-cyan-500"},null,512),[[V,j.value.date]])])]),e("div",oo,[e("button",{onClick:t[8]||(t[8]=s=>X.value=!1),disabled:R.value,class:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg disabled:opacity-50"}," Annuler ",8,ao),e("button",{type:"button",onClick:qe,disabled:R.value,class:"flex-1 py-2 bg-cyan-600 hover:bg-cyan-500 text-white font-medium rounded-lg disabled:opacity-50 flex items-center justify-center gap-2"},[R.value?(a(),n("svg",lo,[...t[60]||(t[60]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):m("",!0),D(" "+l(R.value?"Ajout...":"Ajouter"),1)],8,no)])])])):m("",!0)])),(a(),L(W,{to:"body"},[ee.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[14]||(t[14]=Z(s=>ee.value=!1,["self"]))},[e("div",ro,[e("div",io,[t[63]||(t[63]=e("h3",{class:"text-lg font-semibold"},"Consommables PVE",-1)),e("button",{onClick:t[10]||(t[10]=s=>ee.value=!1),class:"text-slate-400 hover:text-slate-300"},[...t[62]||(t[62]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t[67]||(t[67]=e("p",{class:"text-sm text-slate-400 mb-4"}," Ajoutez les consommables que vous utilisez pour le PVE : drogues, munitions, fuel (isotopes), etc. Ils seront détectés lors du scan des contrats et transactions. ",-1)),e("div",co,[P(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>q.value=s),onInput:Qe,type:"text",placeholder:"Rechercher un consommable (drogue, munition, isotope...)",class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-cyan-500 pr-10"},null,544),[[V,q.value]]),we.value?(a(),n("div",uo,[...t[64]||(t[64]=[e("svg",{class:"w-5 h-5 animate-spin text-cyan-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):m("",!0)]),te.value.length>0?(a(),n("div",po,[(a(!0),n(E,null,O(te.value,s=>(a(),n("button",{key:s.typeId,onClick:b=>We(s.typeId),disabled:_e.value,class:"w-full px-4 py-2 text-left hover:bg-slate-700 text-sm flex items-center justify-between group disabled:opacity-50"},[e("span",null,l(s.typeName),1),t[65]||(t[65]=e("svg",{class:"w-4 h-4 text-cyan-500 opacity-0 group-hover:opacity-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1))],8,vo))),128))])):m("",!0),t[68]||(t[68]=e("div",{class:"mb-2 text-sm text-slate-400"},"Items configurés :",-1)),pe.value.length>0?(a(),n("div",mo,[(a(!0),n(E,null,O(pe.value,s=>(a(),n("div",{key:s.typeId,class:"flex items-center justify-between bg-slate-800 rounded-lg px-4 py-2"},[e("div",fo,[e("img",{src:r(v)(s.typeId,32),alt:s.typeName,class:"w-6 h-6 rounded",onError:t[12]||(t[12]=(...b)=>r(g)&&r(g)(...b))},null,40,yo),e("span",xo,l(s.typeName),1)]),e("button",{onClick:b=>Ze(s.typeId),class:"p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-colors"},[...t[66]||(t[66]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,bo)]))),128))])):(a(),n("div",ho," Aucun item configuré ")),e("div",go,[e("button",{onClick:t[13]||(t[13]=s=>ee.value=!1),class:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-white font-medium"}," Fermer ")])])])):m("",!0)])),(a(),L(W,{to:"body"},[J.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[19]||(t[19]=Z(s=>J.value=!1,["self"]))},[e("div",ko,[e("div",wo,[t[70]||(t[70]=e("h3",{class:"text-lg font-semibold"},"Types de loot",-1)),e("button",{onClick:t[15]||(t[15]=s=>J.value=!1),class:"text-slate-400 hover:text-slate-300"},[...t[69]||(t[69]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t[74]||(t[74]=e("p",{class:"text-sm text-slate-400 mb-4"}," Ajoutez les types de loot que vous vendez (OPE, blue loot, etc.). Seuls ces items seront detectes lors du scan des ventes. ",-1)),e("div",_o,[P(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>U.value=s),onInput:Ge,type:"text",placeholder:"Rechercher un item (ex: Rogue Drone Infestation Data)",class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-amber-500 pr-10"},null,544),[[V,U.value]]),Ce.value?(a(),n("div",Co,[...t[71]||(t[71]=[e("svg",{class:"w-5 h-5 animate-spin text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):m("",!0)]),se.value.length>0?(a(),n("div",So,[(a(!0),n(E,null,O(se.value,s=>(a(),n("button",{key:s.typeId,onClick:b=>et(s.typeId),disabled:Se.value,class:"w-full px-4 py-2 text-left hover:bg-slate-700 text-sm flex items-center justify-between group disabled:opacity-50"},[e("span",null,l(s.typeName),1),t[72]||(t[72]=e("svg",{class:"w-4 h-4 text-amber-500 opacity-0 group-hover:opacity-100",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1))],8,jo))),128))])):m("",!0),t[75]||(t[75]=e("div",{class:"mb-2 text-sm text-slate-400"},"Items configures :",-1)),ve.value.length>0?(a(),n("div",Io,[(a(!0),n(E,null,O(ve.value,s=>(a(),n("div",{key:s.typeId,class:"flex items-center justify-between bg-slate-800 rounded-lg px-4 py-2"},[e("div",$o,[e("img",{src:r(v)(s.typeId,32),alt:s.typeName,class:"w-6 h-6 rounded",onError:t[17]||(t[17]=(...b)=>r(g)&&r(g)(...b))},null,40,Eo),e("span",To,l(s.typeName),1)]),e("button",{onClick:b=>tt(s.typeId),class:"p-1 hover:bg-red-500/20 rounded text-slate-400 hover:text-red-400 transition-colors"},[...t[73]||(t[73]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ao)]))),128))])):(a(),n("div",Bo," Aucun type de loot configure ")),e("div",Mo,[e("button",{onClick:t[18]||(t[18]=s=>J.value=!1),class:"w-full py-2 bg-slate-800 hover:bg-slate-700 rounded-lg text-white font-medium"}," Fermer ")])])])):m("",!0)])),(a(),L(W,{to:"body"},[K.value&&C.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[23]||(t[23]=Z(s=>K.value=!1,["self"]))},[e("div",Po,[e("div",Do,[e("div",Lo,[e("div",null,[t[76]||(t[76]=e("h3",{class:"text-lg font-semibold"},"Résultats du scan",-1)),e("p",Oo,l(C.value.scannedContracts)+" contrats, "+l(C.value.scannedTransactions)+" transactions marché - "+l(C.value.detectedExpenses.length)+" dépenses détectées ",1)]),e("button",{onClick:t[20]||(t[20]=s=>K.value=!1),class:"text-slate-400 hover:text-slate-300"},[...t[77]||(t[77]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),C.value.detectedExpenses.length>0?(a(),n("div",Fo,[e("div",{class:"flex items-center gap-3 mb-4"},[e("button",{onClick:at,class:"text-sm text-cyan-400 hover:text-cyan-300"},"Tout sélectionner"),t[78]||(t[78]=e("span",{class:"text-slate-600"},"|",-1)),e("button",{onClick:nt,class:"text-sm text-slate-400 hover:text-slate-300"},"Tout désélectionner")]),e("div",No,[(a(!0),n(E,null,O(C.value.detectedExpenses,s=>(a(),n("div",{key:`${s.contractId}-${s.typeId}`,onClick:b=>ot(s),class:T(["p-4 rounded-lg border cursor-pointer transition-colors",s.selected?"bg-slate-800 border-cyan-500/50":"bg-slate-800/50 border-slate-700 opacity-60"])},[e("div",Vo,[e("div",Ho,[e("div",{class:T(["w-5 h-5 rounded border-2 flex items-center justify-center",s.selected?"border-cyan-500 bg-cyan-500":"border-slate-600"])},[s.selected?(a(),n("svg",Ro,[...t[79]||(t[79]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):m("",!0)],2)]),e("img",{src:r(v)(s.typeId,64),alt:s.typeName,class:"w-12 h-12 rounded",onError:t[21]||(t[21]=(...b)=>r(g)&&r(g)(...b))},null,40,qo),e("div",Jo,[e("div",Uo,[e("span",{class:T(["text-xs px-2 py-0.5 rounded",Pe(s.type)])},l(Me(s.type)),3),s.source==="contract"?(a(),n("span",Ko," Contrat #"+l(s.contractId),1)):(a(),n("span",Qo," Marché "))]),e("p",Yo,l(s.typeName),1)]),e("div",Wo,[e("p",Zo,l(r(f)(s.price)),1),e("p",Go,l(r(c)(s.dateIssued)),1)])])],10,zo))),128))])])):(a(),n("div",Xo,[...t[80]||(t[80]=[e("div",{class:"text-center text-slate-500"},[e("svg",{class:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M12 12h.01M12 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",null,"Aucune dépense détectée dans vos contrats"),e("p",{class:"text-sm mt-1"},"Vérifiez la configuration des consommables ou la période")],-1)])])),C.value.detectedExpenses.length>0?(a(),n("div",ea,[e("div",ta,[e("span",sa,l(C.value.detectedExpenses.filter(s=>s.selected).length)+" dépense(s) sélectionnée(s) ",1),e("span",oa," Total: "+l(r(f)(C.value.detectedExpenses.filter(s=>s.selected).reduce((s,b)=>s+b.price,0))),1)]),e("div",aa,[e("button",{onClick:t[22]||(t[22]=s=>K.value=!1),class:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg"}," Annuler "),e("button",{onClick:lt,disabled:ae.value||C.value.detectedExpenses.filter(s=>s.selected).length===0,class:"flex-1 py-2 bg-cyan-600 hover:bg-cyan-500 text-white font-medium rounded-lg disabled:opacity-50 flex items-center justify-center gap-2"},[ae.value?(a(),n("svg",la,[...t[81]||(t[81]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):m("",!0),D(" "+l(ae.value?"Import...":"Importer"),1)],8,na)])])):m("",!0)])])):m("",!0)])),(a(),L(W,{to:"body"},[ne.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[28]||(t[28]=Z(s=>ne.value=!1,["self"]))},[e("div",ra,[t[86]||(t[86]=e("h3",{class:"text-lg font-semibold mb-4"},"Ajouter une vente de loot",-1)),e("div",ia,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm text-slate-400 mb-1"},[D("Description "),e("span",{class:"text-red-400"},"*")],-1)),P(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>$.value.description=s),type:"text",placeholder:"Ex: 100x Overseer's Personal Effects",class:T(["w-full bg-slate-800 border rounded-lg px-4 py-2 text-sm focus:outline-none",M.value.description?"border-red-500 focus:border-red-500":"border-slate-700 focus:border-amber-500"])},null,2),[[V,$.value.description]]),M.value.description?(a(),n("p",da,l(M.value.description),1)):m("",!0)]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm text-slate-400 mb-1"},[D("Montant (ISK) "),e("span",{class:"text-red-400"},"*")],-1)),P(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>$.value.amount=s),type:"number",placeholder:"500000000",class:T(["w-full bg-slate-800 border rounded-lg px-4 py-2 text-sm focus:outline-none",M.value.amount?"border-red-500 focus:border-red-500":"border-slate-700 focus:border-amber-500"])},null,2),[[V,$.value.amount]]),M.value.amount?(a(),n("p",ca,l(M.value.amount),1)):m("",!0)]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-sm text-slate-400 mb-1"},"Date",-1)),P(e("input",{"onUpdate:modelValue":t[26]||(t[26]=s=>$.value.date=s),type:"date",class:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-amber-500"},null,512),[[V,$.value.date]])])]),e("div",ua,[e("button",{onClick:t[27]||(t[27]=s=>ne.value=!1),disabled:Q.value,class:"flex-1 py-2 bg-slate-800 hover:bg-slate-700 rounded-lg disabled:opacity-50"}," Annuler ",8,pa),e("button",{type:"button",onClick:it,disabled:Q.value,class:"flex-1 py-2 bg-amber-600 hover:bg-amber-500 text-white font-medium rounded-lg disabled:opacity-50 flex items-center justify-center gap-2"},[Q.value?(a(),n("svg",ma,[...t[85]||(t[85]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):m("",!0),D(" "+l(Q.value?"Ajout...":"Ajouter"),1)],8,va)])])])):m("",!0)])),(a(),L(W,{to:"body"},[le.value&&S.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:t[32]||(t[32]=Z(s=>le.value=!1,["self"]))},[e("div",fa,[e("div",ya,[e("div",xa,[e("div",null,[t[87]||(t[87]=e("h3",{class:"text-lg font-semibold"},"Ventes de loot détectées",-1)),e("p",ba,l(S.value.scannedTransactions)+" transactions, "+l(S.value.scannedContracts||0)+" contrats, "+l(S.value.scannedProjects||0)+" projets corp - "+l(S.value.detectedSales.length)+" ventes détectées ",1)]),e("button",{onClick:t[29]||(t[29]=s=>le.value=!1),class:"text-slate-400 hover:text-slate-300"},[...t[88]||(t[88]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),S.value.detectedSales.length>0?(a(),n("div",ha,[e("div",ga,[(a(!0),n(E,null,O(S.value.detectedSales,s=>(a(),n("div",{key:s.source==="contract"?`contract-${s.contractId}`:`tx-${s.transactionId}`,class:"p-4 rounded-lg border bg-slate-800 border-slate-700"},[e("div",ka,[e("img",{src:r(v)(s.typeId,64),alt:s.typeName,class:"w-12 h-12 rounded",onError:t[30]||(t[30]=(...b)=>r(g)&&r(g)(...b))},null,40,wa),e("div",_a,[e("div",Ca,[s.source==="contract"?(a(),n("span",Sa," Contrat #"+l(s.contractId),1)):s.source==="corp_project"?(a(),n("span",ja,l(s.projectName||"Projet corp"),1)):(a(),n("span",Ia," Marché ")),e("span",$a,l(s.characterName),1)]),e("p",Ea,l(s.typeName),1),e("p",Ta,l(r(c)(s.dateIssued)),1)]),e("div",Aa,[(s.source==="contract"||s.source==="corp_project")&&s.price===0?(a(),n("div",Ba,[P(e("input",{type:"number","onUpdate:modelValue":b=>s.price=b,class:"w-28 px-2 py-1 text-right bg-slate-700 border border-slate-600 rounded text-amber-400 font-mono text-sm focus:outline-none focus:border-amber-500",min:"0",step:"100000",placeholder:s.source==="corp_project"?"Valeur":"Prix"},null,8,Ma),[[V,s.price,void 0,{number:!0}]]),t[89]||(t[89]=e("span",{class:"text-xs text-slate-500"},"ISK",-1))])):(a(),n("p",Pa,"+"+l(r(f)(s.price)),1)),e("div",Da,[e("button",{onClick:b=>ut(s),disabled:fe.value||(s.source==="contract"||s.source==="corp_project")&&s.price<=0,class:"px-3 py-1 text-xs bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-600 disabled:cursor-not-allowed rounded text-white font-medium"}," Ajouter ",8,La),e("button",{onClick:b=>pt(s),disabled:fe.value,class:"px-3 py-1 text-xs bg-slate-600 hover:bg-slate-500 disabled:opacity-50 rounded text-slate-300 font-medium"}," Ignorer ",8,Oa)])])])]))),128))])])):(a(),n("div",Fa,[...t[90]||(t[90]=[e("div",{class:"text-center text-slate-500"},[e("svg",{class:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})]),e("p",null,"Aucune vente de loot détectée"),e("p",{class:"text-sm mt-1"},"Vendez du loot sur le marché pour le voir apparaitre ici")],-1)])])),S.value.detectedSales.length>0?(a(),n("div",Na,[e("div",za,[e("span",Va,l(S.value.detectedSales.length)+" contrat(s) en attente ",1),e("button",{onClick:t[31]||(t[31]=s=>le.value=!1),class:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm"}," Fermer ")])])):m("",!0)])])):m("",!0)]))]}),_:1}))}});export{Ka as default};
